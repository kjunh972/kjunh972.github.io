<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RunTracker - 러닝 크루 기반 AI 러닝앱 | Kim Jun Hyeong</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/project-detail.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="sidebar-placeholder"></div>

    <main class="content">
        <section class="project-detail-page">
            <div class="project-header">
                <h1>RunTracker</h1>
                <p class="project-period">2025.07 - 2025.09</p>
                <p class="project-type">러닝 크루 기반 AI 러닝앱 (졸업작품)</p>
            </div>

            <div class="project-content">
                <div class="detail-info">
                    <h4>프로젝트 개요</h4>
                    <p class="project-intro">RunTracker는 러닝 크루 기반의 AI 러닝앱입니다. 사용자들이 크루를 생성하고 참여하여 함께 러닝을 즐길 수 있고 AI가 런닝코스를 추천하며 개인 러닝 기록 관리부터 크루 기반 그룹 러닝, 실시간 랭킹, 커뮤니티 기능까지 제공하는 러닝앱입니다.</p>

                    <h4>팀 구성</h4>
                    <div class="team-grid">
                        <div class="team-card">
                            <h5><i class="fas fa-server"></i> Backend</h5>
                            <p class="member-name"><strong>김준형</strong></p>
                        </div>
                        <div class="team-card">
                            <h5><i class="fas fa-laptop-code"></i> Frontend</h5>
                            <p class="member-name"><strong>2명</strong></p>
                        </div>
                        <div class="team-card">
                            <h5><i class="fas fa-brain"></i> AI</h5>
                            <p class="member-name"><strong>1명</strong></p>
                        </div>
                    </div>

                    <h4>기술 스택</h4>
                    <div class="tech-stack">
                        <div class="tech-category">
                            <h5>Backend</h5>
                            <div class="tech-badges">
                                <span class="tech-badge">Spring Boot</span>
                                <span class="tech-badge">Spring Security</span>
                                <span class="tech-badge">JWT</span>
                                <span class="tech-badge">MySQL</span>
                                <span class="tech-badge">JPA</span>
                                <span class="tech-badge">QueryDSL</span>
                                <span class="tech-badge">Redis</span>
                                <span class="tech-badge">Spring RestDocs</span>
                                <span class="tech-badge">FCM</span>
                            </div>
                        </div>
                        <div class="tech-category">
                            <h5>DevOps</h5>
                            <div class="tech-badges">
                                <span class="tech-badge">AWS EC2</span>
                                <span class="tech-badge">AWS RDS</span>
                                <span class="tech-badge">GitHub Actions</span>
                            </div>
                        </div>
                    </div>

                    <h4>담당 업무</h4>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h5><i class="fas fa-user-shield"></i> 인증/회원 관리 시스템</h5>
                            <ul>
                                <li>OAuth2 기반 카카오 소셜 로그인 구현</li>
                                <li>JWT 기반 토큰 인증 및 토큰 관리</li>
                                <li>Redis를 활용한 로그아웃/회원탈퇴 시 토큰 무효화 처리</li>
                                <li>사용자 프로필 관리 및 알림 설정 기능</li>
                                <li>러닝 기록 백업/복원 시스템 구현</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-users"></i> 크루 관리 시스템</h5>
                            <ul>
                                <li>크루 생성/수정/삭제 및 권한 기반 관리 시스템</li>
                                <li>크루 가입 신청/승인/거절 구현</li>
                                <li>크루원 역할 관리 (리더/매니저/일반 크루원)</li>
                                <li>크루원 추방/차단 기능 및 관리자 권한 시스템</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-route"></i> 코스 관리</h5>
                            <ul>
                                <li>러닝 코스 등록 및 상세 정보 관리</li>
                                <li>러닝 코스 추천 기능 (기록 및 설정 기반 필터링)</li>
                                <li>자유 러닝 및 정해진 코스 러닝 기능</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-running"></i> 러닝 기록 관리</h5>
                            <ul>
                                <li>개인 러닝 기록 저장 및 다양한 기간별 조회 및 통계 확인 (일/주/월)</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-trophy"></i> 실시간 랭킹 시스템</h5>
                            <ul>
                                <li>크루별 일일 랭킹 자동 계산 및 갱신</li>
                                <li>크루 내 크루원 랭킹 시스템</li>
                                <li>러닝 거리/시간 기반 점수 산정 알고리즘 구현</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-comments"></i> 커뮤니티 기능</h5>
                            <ul>
                                <li>크루 내 게시판 및 댓글, 좋아요 구현</li>
                                <li>사용자 간 소통 및 정보 공유 플랫폼</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-calendar-alt"></i> 일정 관리</h5>
                            <ul>
                                <li>크루 일정 생성/수정/삭제 기능</li>
                                <li>일정 참여자 관리 및 알림 시스템</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-bell"></i> 알림 시스템</h5>
                            <ul>
                                <li>FCM 기반 푸시 알림 인프라 구축</li>
                                <li>Spring Event + @TransactionalEventListener 기반 이벤트 주도 알림 시스템</li>
                                <li>도메인별 실시간 푸시 알림 (크루, 커뮤니티, 일정등)</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h5><i class="fas fa-cloud-upload-alt"></i> 배포</h5>
                            <ul>
                                <li>AWS EC2/RDS 구축 및 GitHub Actions 기반 CI/CD 파이프라인 구축</li>
                            </ul>
                        </div>
                    </div>

                    <h4>성능 개선 및 최적화 경험</h4>
                    <div class="challenge-list">
                        <div class="challenge-item">
                            <h5><i class="fas fa-bolt"></i> Redis 2단계 캐싱을 통한 코스 조회 성능 최적화</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>근처 코스 조회 시 매번 DB에서 전체 코스 데이터를 조회하여 응답 속도 저하</li>
                                    <li>동일 위치 반복 조회 시에도 DB 부하 발생</li>
                                    <li>다중 코스 상세 조회 시 N번의 Redis 왕복으로 네트워크 I/O 병목</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>Level 1 : 500m 그리드 기반 근처 코스 ID 캐싱 (Redis Hash 구조)</li>
                                    <li>Level 2 : 코스 상세 정보 개별 캐싱</li>
                                    <li>Redis multiGet으로 다중 코스 일괄 조회 (N회 왕복 → 1회 왕복)</li>
                                    <li>LRU+LFU 하이브리드 eviction으로 메모리 효율성 확보</li>
                                    <li>슬롯 기반 메모리 제한 (근처 코스 10개, 상세 정보 200개)</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>Level 1 응답 속도 83% 개선 (117ms → 20ms, 5.8배 향상)</li>
                                    <li>Level 2 multiGet으로 52.1% 개선 (121ms → 58ms, 2.0배 향상)</li>
                                    <li>전체 응답 속도 90% 개선 (840ms → 84ms, 10배 향상)</li>
                                    <li>Redis 캐시 Hit 시 평균 84ms 응답</li>
                                    <li>DB 부하 91% 감소 (반복 조회 시)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-database"></i> Hash 구조 기반 슬롯 업데이트 최적화</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>기존 List 구조에서 슬롯 업데이트 시 전체 삭제 후 재생성 (O(N))</li>
                                    <li>10개 슬롯 업데이트 시 11번의 Redis 명령 실행</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>List 구조를 Hash 구조로 변경</li>
                                    <li>단일 키만 업데이트하는 방식으로 개선 (O(1))</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>슬롯 업데이트 성능 10배 향상</li>
                                    <li>Redis 명령 횟수 90% 감소 (11회 → 1회)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-bell"></i> 이벤트 기반 비동기 알림 시스템 구축</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>알림 발송을 동기 처리 시 메인 비즈니스 로직의 응답 시간 증가</li>
                                    <li>크루원 N명에게 알림 전송 시 메인 트랜잭션 대기 시간 발생</li>
                                    <li>FCM 전송 실패 시 메인 트랜잭션 롤백 위험</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>Spring Event와 @TransactionalEventListener로 알림 로직 분리</li>
                                    <li>@Async 비동기 처리로 메인 트랜잭션과 알림 전송 독립 실행</li>
                                    <li>AFTER_COMMIT 단계에서 알림 발송으로 데이터 일관성 보장</li>
                                    <li>FCM 토큰 유효성 검증 및 예외 처리 로직 추가</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>메인 API 응답 속도 개선 (알림 전송 대기 시간 제거)</li>
                                    <li>알림 전송 실패 시에도 메인 비즈니스 로직 정상 처리</li>
                                    <li>13가지 알림 시나리오 안정적 운영</li>
                                    <li>알림 로직과 비즈니스 로직을 독립적 관리로 유지보수성 향상</li>
                                </ul>
                            </div>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-trophy"></i> Redis Sorted Set 기반 크루 랭킹 캐싱 시스템</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>크루 랭킹 조회 시 매번 DB에서 전체 크루 및 회원 데이터를 조회하여 응답 속도 저하</li>
                                    <li>반복적인 랭킹 조회로 인한 DB 부하 증가</li>
                                    <li>크루 정보 조회 시 N+1 쿼리 문제 발생</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>Redis Sorted Set으로 랭킹 데이터 캐싱 (거리 기준 자동 정렬)</li>
                                    <li>Cache-Aside 패턴 적용 (캐시 미스 시 DB 조회 후 캐싱)</li>
                                    <li>크루 정보는 DB IN 쿼리로 일괄 조회하여 N+1 문제 해결</li>
                                    <li>TTL 1일 설정으로 자동 메모리 관리</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>응답 속도 94% 개선 (34.2ms → 2.0ms, 17배 향상)</li>
                                    <li>DB 부하 98% 감소 (반복 조회 시)</li>
                                </ul>
                            </div>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-users"></i> 크루원 랭킹 조회 N+1 쿼리 최적화</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>크루원 랭킹 조회 시 각 회원 정보를 개별로 조회하는 N+1 쿼리 문제 발생</li>
                                    <li>20명 크루 기준 21번의 DB 쿼리 발생 (랭킹 1회 + 회원 정보 20회)</li>
                                    <li>크루원 수 증가에 비례하여 응답 시간 증가</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>모든 회원 ID를 먼저 수집하여 IN 쿼리로 한 번에 조회</li>
                                    <li>Map 자료구조를 활용한 O(1) 시간복잡도 조회</li>
                                    <li>Stream API를 통한 효율적인 데이터 변환</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>DB 쿼리 90% 감소 (21회 → 2회)</li>
                                    <li>응답 속도 60% 개선</li>
                                    <li>크루원 수 증가에도 일정한 성능 보장</li>
                                </ul>
                            </div>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-image"></i> WebP 이미지 변환을 통한 파일 용량 최적화</h5>
                            <div class="challenge-section">
                                <h6>문제상황</h6>
                                <ul>
                                    <li>커뮤니티 게시글, 런닝 완료 인증 이미지등 이미지 업로드 시 원본 포맷(JPG, PNG) 그대로 저장하여 저장 공간 낭비</li>
                                    <li>대용량 이미지로 인한 네트워크 전송 시간 증가 및 사용자 데이터 소모</li>
                                    <li>고해상도 이미지 업로드 시 불필요한 저장 공간 사용</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>해결방법</h6>
                                <ul>
                                    <li>업로드된 모든 이미지를 WebP 포맷으로 자동 변환</li>
                                    <li>최대 1920X1920 크기로 자동 리사이징하여 불필요한 고해상도 방지</li>
                                    <li>scrimage 라이브러리를 활용한 이미지 변환 및 압축</li>
                                </ul>
                            </div>
                            <div class="challenge-section">
                                <h6>성과</h6>
                                <ul>
                                    <li>이미지 용량 최대 95% 감소 (4.5MB -> 225KB, 20배 절감)</li>
                                    <li>실제 테스트: 4.5MB → 225KB (95% 감소), 221KB -> 20KB (91% 감소)</li>
                                    <li>저장 공간 비용 절감 및 네트워크 전송 속도 향상</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h4>성과 및 경험</h4>
                    <div class="challenge-list">
                        <div class="challenge-item">
                            <h5><i class="fas fa-tachometer-alt"></i> Redis 기반 성능 최적화</h5>
                            <ul>
                                <li>코스 조회: 2단계 캐싱 아키텍처로 응답 속도 90% 개선 (840ms → 84ms, 10배 향상)</li>
                                <li>크루 랭킹: Sorted Set 캐싱으로 응답 속도 94% 개선 (34.2ms → 2.0ms, 17배 향상)</li>
                                <li>Hash 구조 최적화: 슬롯 업데이트 성능 10배 향상, Redis 명령 90% 감소</li>
                                <li>메모리 효율성과 캐시 히트율 균형 최적화 (LRU+LFU 하이브리드, 슬롯 기반 제한)</li>
                            </ul>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-image"></i> 이미지 최적화</h5>
                            <ul>
                                <li>WebP 변환 + 리사이징으로 이미지 용량 최대 95% 감소 (4.5MB → 225KB, 20배 절감)</li>
                                <li>저장 공간 비용 절감 및 사용자 데이터 소비량 감소</li>
                            </ul>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-lock"></i> 보안 및 인증 시스템 구축</h5>
                            <ul>
                                <li>OAuth2 기반 카카오 소셜 로그인 + JWT 토큰 인증 구현</li>
                                <li>Redis 토큰 블랙리스트 관리로 안전한 로그아웃 구현</li>
                                <li>크루별 권한 시스템 (리더/매니저/일반 크루원)으로 세밀한 접근 제어</li>
                            </ul>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-bell"></i> FCM 기반 이벤트 주도 알림 시스템 구축</h5>
                            <ul>
                                <li>Spring Event + @TransactionalEventListener로 알림 로직 비즈니스 로직과 분리</li>
                                <li>@Async 비동기 처리로 메인 트랜잭션 응답 속도 개선</li>
                                <li>13가지 알림 시나리오 안정적 운영 (크루, 커뮤니티, 일정)</li>
                            </ul>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-file-alt"></i> Spring RestDocs API 문서화</h5>
                            <ul>
                                <li>테스트 기반 API 문서 자동 생성으로 문서와 코드 동기화 보장</li>
                                <li>테스트 커버리지 향상으로 API 안정성 확보</li>
                            </ul>
                        </div>
                        <div class="challenge-item">
                            <h5><i class="fas fa-exclamation-triangle"></i> 에러 관리</h5>
                            <ul>
                                <li>도메인별 커스텀 ErrorCode와 중앙집중식 ErrorCode Enum 기반 예외 처리 시스템 구축</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
    fetch('../includes/menu.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('sidebar-placeholder').innerHTML = html;
        })
        .catch(error => console.error('Error loading sidebar:', error));
    </script>
</body>
</html>
